/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   BASE STYLES
   ============================================ */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.6;
    color: #1a202c;
    background-color: #0f0f1a;
    overflow-x: hidden;
}

code {
    font-family: 'JetBrains Mono', source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

/* ============================================
   CSS CUSTOM PROPERTIES
   ============================================ */

:root {
    --score-offset: 0;
    --aurora-1: #3b82f6;
    --aurora-2: #8b5cf6;
    --aurora-3: #06b6d4;
    --aurora-4: #10b981;
    --aurora-5: #ec4899;
    --glow-blue: 0 0 40px rgba(59, 130, 246, 0.4);
    --glow-purple: 0 0 40px rgba(139, 92, 246, 0.4);
    --glow-cyan: 0 0 40px rgba(6, 182, 212, 0.4);
    --glow-green: 0 0 40px rgba(16, 185, 129, 0.4);
}

/* ============================================
   CUSTOM UTILITY CLASSES
   ============================================ */

@layer utilities {

    /* Glassmorphism Variants */
    .glass {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .glass-light {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .glass-dark {
        background: rgba(15, 15, 26, 0.8);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .glass-card {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(24px);
        -webkit-backdrop-filter: blur(24px);
        border: 1px solid rgba(255, 255, 255, 0.05);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .glass-card-light {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(24px);
        -webkit-backdrop-filter: blur(24px);
        border: 1px solid rgba(0, 0, 0, 0.05);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
    }

    /* Aurora Background Effects */
    .aurora-bg {
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(139, 92, 246, 0.1) 25%, rgba(6, 182, 212, 0.15) 50%, rgba(16, 185, 129, 0.1) 75%, rgba(59, 130, 246, 0.15) 100%);
        background-size: 400% 400%;
        animation: aurora 15s ease infinite;
    }

    .aurora-radial {
        background: radial-gradient(ellipse at 50% 0%, rgba(59, 130, 246, 0.2) 0%, rgba(139, 92, 246, 0.1) 25%, transparent 50%);
    }

    .aurora-blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        mix-blend-mode: screen;
        animation: blob 12s infinite;
    }

    /* Text Gradients */
    .text-gradient-primary {
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #06b6d4 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .text-gradient-success {
        background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .text-gradient-warning {
        background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .text-gradient-white {
        background: linear-gradient(180deg, #ffffff 0%, rgba(255, 255, 255, 0.7) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Glow Effects */
    .glow-blue {
        box-shadow: var(--glow-blue);
    }

    .glow-purple {
        box-shadow: var(--glow-purple);
    }

    .glow-cyan {
        box-shadow: var(--glow-cyan);
    }

    .glow-green {
        box-shadow: var(--glow-green);
    }

    .glow-text {
        text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
    }

    /* Hover Effects */
    .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .hover-lift:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.3);
    }

    .hover-scale {
        transition: transform 0.2s ease;
    }

    .hover-scale:hover {
        transform: scale(1.02);
    }

    .hover-glow:hover {
        box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
    }

    /* Animation Delays */
    .animation-delay-100 {
        animation-delay: 100ms;
    }

    .animation-delay-200 {
        animation-delay: 200ms;
    }

    .animation-delay-300 {
        animation-delay: 300ms;
    }

    .animation-delay-400 {
        animation-delay: 400ms;
    }

    .animation-delay-500 {
        animation-delay: 500ms;
    }

    .animation-delay-600 {
        animation-delay: 600ms;
    }

    .animation-delay-700 {
        animation-delay: 700ms;
    }

    .animation-delay-800 {
        animation-delay: 800ms;
    }

    .animation-delay-1000 {
        animation-delay: 1000ms;
    }

    .animation-delay-2000 {
        animation-delay: 2000ms;
    }

    .animation-delay-4000 {
        animation-delay: 4000ms;
    }

    /* Focus Ring */
    .focus-ring {
        @apply focus:outline-none focus:ring-4 focus:ring-primary-500/30 focus:border-primary-500;
    }

    /* No Scrollbar */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    /* Bento Grid Item */
    .bento-item {
        @apply relative overflow-hidden rounded-3xl bg-dark-800/50 border border-white/5 backdrop-blur-xl;
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 2px 4px rgba(0, 0, 0, 0.1), 0 12px 24px rgba(0, 0, 0, 0.15);
        @apply transition-all duration-500 ease-out;
    }

    .bento-item:hover {
        @apply border-white/10;
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1), 0 8px 16px rgba(0, 0, 0, 0.15), 0 24px 48px rgba(0, 0, 0, 0.2);
    }

    /* Gradient Border */
    .gradient-border {
        position: relative;
        background: linear-gradient(#202033, #202033) padding-box, linear-gradient(135deg, rgba(59, 130, 246, 0.5), rgba(139, 92, 246, 0.5)) border-box;
        border: 1px solid transparent;
    }

    /* Animated Underline */
    .animated-underline {
        position: relative;
    }

    .animated-underline::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #3b82f6, #8b5cf6);
        transition: width 0.3s ease;
    }

    .animated-underline:hover::after {
        width: 100%;
    }

    /* Ticker Animation */
    .ticker-wrap {
        overflow: hidden;
    }

    .ticker {
        display: flex;
        animation: ticker 30s linear infinite;
    }

    .ticker:hover {
        animation-play-state: paused;
    }

    /* Noise Texture Overlay */
    .noise-overlay::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.03;
        pointer-events: none;
    }

    /* Mask Gradients */
    .mask-fade-bottom {
        mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
        -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
    }

    .mask-fade-top {
        mask-image: linear-gradient(to top, black 80%, transparent 100%);
        -webkit-mask-image: linear-gradient(to top, black 80%, transparent 100%);
    }
}

/* ============================================
   CUSTOM SCROLLBAR
   ============================================ */

::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.4) 0%, rgba(139, 92, 246, 0.4) 100%);
    border-radius: 4px;
    border: 2px solid transparent;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.6) 0%, rgba(139, 92, 246, 0.6) 100%);
}

/* ============================================
   LEAFLET MAP OVERRIDES
   ============================================ */

.leaflet-container {
    height: 100%;
    width: 100%;
    font-family: 'Inter', sans-serif;
    background: #1a1a2e;
}

.leaflet-popup-content-wrapper {
    border-radius: 16px;
    padding: 0;
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(15, 15, 26, 0.95);
    backdrop-filter: blur(16px);
}

.leaflet-popup-content {
    margin: 0;
    min-width: 220px;
}

.leaflet-popup-tip {
    background: rgba(15, 15, 26, 0.95);
    box-shadow: none;
}

.leaflet-control-zoom {
    border: none !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2) !important;
    border-radius: 12px !important;
    overflow: hidden;
    background: rgba(15, 15, 26, 0.9) !important;
    backdrop-filter: blur(12px);
}

.leaflet-control-zoom a {
    background: transparent !important;
    color: #fff !important;
    border: none !important;
    width: 36px !important;
    height: 36px !important;
    line-height: 36px !important;
    font-size: 18px !important;
    font-weight: 600 !important;
}

.leaflet-control-zoom a:hover {
    background: rgba(59, 130, 246, 0.2) !important;
    color: #3b82f6 !important;
}

.leaflet-control-attribution {
    background: rgba(15, 15, 26, 0.8) !important;
    backdrop-filter: blur(8px);
    border-radius: 6px 0 0 0;
    padding: 4px 8px !important;
    font-size: 10px !important;
    color: rgba(255, 255, 255, 0.5) !important;
}

.leaflet-control-attribution a {
    color: rgba(59, 130, 246, 0.8) !important;
}

/* ============================================
   MARKER ANIMATIONS
   ============================================ */

@keyframes marker-pulse {
    0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.6);
    }

    70% {
        transform: scale(1.05);
        box-shadow: 0 0 0 20px rgba(16, 185, 129, 0);
    }

    100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
    }
}

@keyframes marker-pulse-warning {
    0% {
        box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.5);
    }

    70% {
        box-shadow: 0 0 0 15px rgba(245, 158, 11, 0);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(245, 158, 11, 0);
    }
}

.pulse-green {
    animation: marker-pulse 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.pulse-yellow {
    animation: marker-pulse-warning 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.marker-appear {
    opacity: 0;
    animation: fadeIn 0.4s ease forwards;
}

/* ============================================
   SKELETON LOADING
   ============================================ */

@keyframes skeleton-shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

.skeleton {
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 75%);
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
    border-radius: 8px;
}

/* ============================================
   CHART STYLING
   ============================================ */

.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
    stroke: rgba(255, 255, 255, 0.05);
    stroke-dasharray: 4 4;
}

.recharts-tooltip-wrapper {
    filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
}

.recharts-default-tooltip {
    background: rgba(15, 15, 26, 0.95) !important;
    backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2) !important;
    padding: 12px 16px !important;
}

/* ============================================
   BADGE STYLES
   ============================================ */

.badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider;
}

.badge-success {
    @apply bg-success-500/20 text-success-400 border border-success-500/30;
}

.badge-warning {
    @apply bg-warning-500/20 text-warning-400 border border-warning-500/30;
}

.badge-danger {
    @apply bg-danger-500/20 text-danger-400 border border-danger-500/30;
}

.badge-primary {
    @apply bg-primary-500/20 text-primary-400 border border-primary-500/30;
}

.badge-neutral {
    @apply bg-white/10 text-gray-400 border border-white/10;
}

/* ============================================
   BUTTON STYLES
   ============================================ */

.btn {
    @apply inline-flex items-center justify-center px-6 py-3 font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-4;
}

.btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-500 active:scale-[0.98] focus:ring-primary-500/30;
    box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
}

.btn-primary:hover {
    box-shadow: 0 6px 30px rgba(59, 130, 246, 0.4);
}

.btn-secondary {
    @apply bg-white/10 text-white border border-white/20 hover:bg-white/20 focus:ring-white/20;
}

.btn-ghost {
    @apply bg-transparent text-gray-400 hover:bg-white/10 hover:text-white focus:ring-white/10;
}

.btn-success {
    @apply bg-success-600 text-white hover:bg-success-500 focus:ring-success-500/30;
    box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
}

.btn-danger {
    @apply bg-danger-600 text-white hover:bg-danger-500 focus:ring-danger-500/30;
    box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3);
}

.btn-sm {
    @apply px-4 py-2 text-sm rounded-lg;
}

.btn-lg {
    @apply px-8 py-4 text-lg rounded-2xl;
}

/* ============================================
   FORM INPUTS
   ============================================ */

.input {
    @apply w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 transition-all duration-200;
    @apply focus:outline-none focus:ring-4 focus:ring-primary-500/20 focus:border-primary-500;
    @apply hover:border-white/20;
}

.input-lg {
    @apply px-5 py-4 text-lg rounded-2xl;
}

/* ============================================
   CARD STYLES
   ============================================ */

.card {
    @apply bg-dark-800/50 rounded-3xl border border-white/5 backdrop-blur-xl;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 2px 4px rgba(0, 0, 0, 0.1), 0 12px 24px rgba(0, 0, 0, 0.15);
}

.card-hover {
    @apply card transition-all duration-300;
}

.card-hover:hover {
    @apply border-white/10;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1), 0 8px 16px rgba(0, 0, 0, 0.15), 0 24px 48px rgba(0, 0, 0, 0.2);
    transform: translateY(-2px);
}

.card-glass {
    @apply rounded-3xl glass-card;
}

/* ============================================
   SCORE COLORS
   ============================================ */

.score-excellent {
    @apply text-success-400;
}

.score-good {
    @apply text-success-500;
}

.score-moderate {
    @apply text-warning-400;
}

.score-low {
    @apply text-warning-500;
}

.score-risk {
    @apply text-danger-400;
}

.score-bg-excellent {
    @apply bg-success-500/20 border-success-500/30;
}

.score-bg-good {
    @apply bg-success-500/10 border-success-500/20;
}

.score-bg-moderate {
    @apply bg-warning-500/20 border-warning-500/30;
}

.score-bg-low {
    @apply bg-warning-500/10 border-warning-500/20;
}

.score-bg-risk {
    @apply bg-danger-500/20 border-danger-500/30;
}

/* ============================================
   RESPONSIVE UTILITIES
   ============================================ */

@media (max-width: 768px) {
    html {
        font-size: 14px;
    }

    .hide-mobile {
        display: none !important;
    }
}

@media (min-width: 769px) {
    .hide-desktop {
        display: none !important;
    }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
    .no-print {
        display: none !important;
    }

    body {
        background: white;
        color: black;
    }

    .card {
        box-shadow: none;
        border: 1px solid #e5e7eb;
    }
}